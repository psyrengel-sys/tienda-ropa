<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Tienda de Ropa</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f5f7fa;--card:#ffffff;--accent:#6c63ff;--accent2:#00c9a7;
      --text:#1a1a1a;--muted:#666;--border:#e0e0e0;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui;background:var(--bg);color:var(--text)}
    header{background:var(--card);box-shadow:0 2px 6px rgba(0,0,0,.08);position:sticky;top:0;z-index:10}
    .nav{max-width:1100px;margin:0 auto;padding:14px 20px;display:flex;justify-content:space-between;align-items:center}
    .brand{font-weight:800;font-size:1.2rem;color:var(--accent)}
    .tools{display:flex;gap:10px}
    .input,.select{border:1px solid var(--border);border-radius:8px;padding:8px 12px}
    .badge{background:var(--accent);color:#fff;padding:6px 12px;border-radius:20px;font-weight:600}
    .layout{max-width:1100px;margin:24px auto;padding:0 20px;display:grid;grid-template-columns:1fr 320px;gap:20px}
    @media(max-width:900px){.layout{grid-template-columns:1fr}}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px}
    .card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:transform .2s}
    .card:hover{transform:translateY(-4px)}
    .img{width:100%;aspect-ratio:4/3;object-fit:cover}
    .content{padding:14px;display:flex;flex-direction:column;gap:8px}
    .title{font-weight:700;font-size:1rem}
    .muted{color:var(--muted);font-size:.9rem}
    .price{font-weight:800;color:var(--accent)}
    .btn{background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;color:#fff;padding:10px;border-radius:8px;font-weight:700;cursor:pointer;transition:opacity .2s}
    .btn:hover{opacity:.9}
    .cart{background:var(--card);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08);position:sticky;top:86px;overflow:hidden}
    .cart-header{padding:14px;border-bottom:1px solid var(--border);font-weight:700;display:flex;justify-content:space-between}
    .cart-items{max-height:400px;overflow:auto}
    .cart-item{display:flex;gap:10px;align-items:center;padding:10px 14px;border-bottom:1px solid var(--border)}
    .thumb{width:60px;height:60px;border-radius:8px;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .qty{display:flex;align-items:center;gap:6px}
    .qty button{border:1px solid var(--border);background:transparent;padding:4px 8px;border-radius:6px;cursor:pointer}
    .remove{color:#e74c3c;cursor:pointer;font-size:.85rem}
    .cart-footer{padding:14px;display:flex;flex-direction:column;gap:10px}
    .total-line{display:flex;justify-content:space-between;font-weight:700}
    .checkout{background:var(--accent);color:#fff;border:none;padding:12px;border-radius:8px;font-weight:700;cursor:pointer}
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand">ðŸ‘• Tienda Ropa</div>
      <div class="tools">
        <input id="search" class="input" type="search" placeholder="Buscar producto..."/>
        <select id="category" class="select">
          <option value="all">Todas</option>
          <option value="camisetas">Camisetas</option>
          <option value="sudaderas">Sudaderas</option>
          <option value="pantalones">Pantalones</option>
          <option value="zapatillas">Zapatillas</option>
        </select>
        <span id="cartBadge" class="badge">Carrito: 0</span>
      </div>
    </div>
  </header>

  <main class="layout">
    <section><div id="grid" class="grid"></div></section>
    <aside class="cart">
      <div class="cart-header"><span>Tu carrito</span><span id="cartCount">0 artÃ­culos</span></div>
      <div id="cartItems" class="cart-items"></div>
      <div class="cart-footer">
        <div class="total-line"><span>Total</span><span id="cartTotal">0,00 â‚¬</span></div>
        <button id="checkout" class="checkout">Finalizar compra</button>
      </div>
    </aside>
  </main>
  <script>
    const PRODUCTS = [
      {id:1,name:"Camiseta bÃ¡sica blanca",price:14.99,category:"camisetas",image:"https://images.unsplash.com/photo-1520975693411-6a1b9b22c5b0?q=80&w=800"},
      {id:2,name:"Sudadera gris con capucha",price:34.95,category:"sudaderas",image:"https://images.unsplash.com/photo-1520974774280-8dcb1b8462c4?q=80&w=800"},
      {id:3,name:"PantalÃ³n vaquero slim",price:39.90,category:"pantalones",image:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=800"},
      {id:4,name:"Zapatillas urbanas",price:64.90,category:"zapatillas",image:"https://images.unsplash.com/photo-1519741491150-1a5b8e54a37f?q=80&w=800"}
    ];
    const fmtEUR = new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"});
    let state={search:"",category:"all",cart:[]};

    function filteredProducts(){
      return PRODUCTS.filter(p=>{
        const okCat=state.category==="all"||p.category===state.category;
        const okSearch=state.search===""||p.name.toLowerCase().includes(state.search.toLowerCase());
        return okCat&&okSearch;
      });
    }

    const grid=document.getElementById("grid");
    function renderProducts(){
      grid.innerHTML="";
      for(const p of filteredProducts()){
        const card=document.createElement("div");
        card.className="card";
        card.innerHTML=`
          <img class="img" src="${p.image}" alt="${p.name}">
          <div class="content">
            <div class="title">${p.name}</div>
            <div class="muted">${p.category}</div>
            <div class="price">${fmtEUR.format(p.price)}</div>
            <button class="btn" data-add="${p.id}">Agregar al carrito</button>
          </div>`;
        grid.appendChild(card);
      }
    }

    const cartItems=document.getElementById("cartItems");
    const cartTotal=document.getElementById("cartTotal");
    const cartCount=document.getElementById("cartCount");
    const cartBadge=document.getElementById("cartBadge");

    function addToCart(id){
  const prod = PRODUCTS.find(p => p.id === id);
  const item = state.cart.find(i => i.id === id);
  if(item){
    item.qty += 1;
  } else {
    state.cart.push({...prod, qty:1});
  }
  renderCart();
}

function removeFromCart(id){
  state.cart = state.cart.filter(i => i.id !== id);
  renderCart();
}

function setQty(id, delta){
  const item = state.cart.find(i => i.id === id);
  if(!item) return;
  item.qty = Math.max(1, item.qty + delta);
  renderCart();
}

function renderCart(){
  cartItems.innerHTML = "";
  let total = 0, count = 0;
  for(const item of state.cart){
    total += item.price * item.qty;
    count += item.qty;
    cartItems.innerHTML += `
      <div class="cart-item">
        <div class="thumb"><img src="${item.image}" alt="${item.name}"></div>
        <div style="flex:1">
          <div>${item.name}</div>
          <div class="qty">
            <button onclick="setQty(${item.id},-1)">-</button>
            <span>${item.qty}</span>
            <button onclick="setQty(${item.id},1)">+</button>
          </div>
          <div class="remove" onclick="removeFromCart(${item.id})">Eliminar</div>
        </div>
        <div>${fmtEUR.format(item.price * item.qty)}</div>
      </div>`;
  }
  cartTotal.textContent = fmtEUR.format(total);
  cartCount.textContent = `${count} artÃ­culos`;
  cartBadge.textContent = `Carrito: ${count}`;
}


    // Eventos
    document.addEventListener("click",e=>{
      if(e.target.matches("[data-add]")){
        addToCart(parseInt(e.target.dataset.add));
      }
    });
    document.getElementById("search").addEventListener("input",e=>{
      state.search=e.target.value;renderProducts();
    });
    document.getElementById("category").addEventListener("change",e=>{
      state.category=e.target.value;renderProducts();
    });
    document.getElementById("checkout").addEventListener("click",()=>{
      alert("Gracias por tu compra ðŸ›’");
      state.cart=[];renderCart();
    });

    // Inicializar
    renderProducts();
    renderCart();
  </script>
</body>
</html>

